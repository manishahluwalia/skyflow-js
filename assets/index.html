<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      iframe::selection {
        background-color: transparent;
      }
      .base {
        color: #3f51b5;
      }
      .base:hover {
        /* this wont work */
        color: aqua;
      }
      .complete {
        color: #4caf50;
      }
      .empty {
      }
      .invalid {
        color: #f44336;
      }

      #form {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        height: 100vh;
      }

      #form * {
        width: 150px !important;
        height: 20px !important;
      }
    </style>
    <script>
      const startDate = new Date();
    </script>
  </head>
  <body>
    <form action="#" id="form">
      <label>First Name</label>
      <div id="first_name"></div>
      <label>Email</label>
      <div id="email"></div>
      <label>ssn</label>
      <div id="ssn"></div>
      <label>Date of Birth</label>
      <div id="dob"></div>
      <label>Phone Number</label>
      <div id="phone_number"></div>

      <label>Text</label>
      <div id="text"></div>
      <label>Text Area</label>
      <div id="textarea"></div>
      <label>Checkbox</label>
      <div id="checkbox1"></div>
      <label>Checkbox</label>
      <div id="checkbox2"></div>
      <label>Radio</label>
      <div id="radio1"></div>
      <label>Radio</label>
      <div id="radio2"></div>
      <label>Password</label>
      <div id="password"></div>
      <label>Number</label>
      <div id="number"></div>
      <label>Dropdown</label>
      <div id="dropdown"></div>
      <button type="submit">Submit</button>
    </form>
    <script>
      const options = {
        classes: {
          base: ".base", // default
          complete: ".complete",
          empty: ".empty",
          invalid: ".invalid",
        },
        styles: {
          base: {}, // default
          complete: {},
          empty: {},
          focus: {},
          invalid: {},
        },
        // value: "",
        // disabled: false,
      };
      skyflow = new Skyflow("bfa831cab06e11ea81abc6d2cc16794f");
      elements = skyflow.elements({});
      firstName = elements.create("firstName", {
        ...options,
        name: "first-name",
        replacePattern: ["/[^a-zA-Z\\s]+/g", ""],
      });
      firstName.mount("#first_name");
      email = elements.create("email", {
        ...options,
        name: "email",
        validation: ["default"],
      });
      email.mount("#email");
      ssn = elements.create("ssn", {
        ...options,
        name: "ssn",
        // validation: ["required", "default"],
        placeholder: "XXX-XX-XXXX",
        mask: ["XXX-XX-XXX", { X: "[0-9]" }],
      });
      ssn.mount("#ssn");
      dob = elements.create("dob", { ...options, name: "dob" });
      dob.mount("#dob");
      phoneNumber = elements.create("mobileNumber", {
        ...options,
        name: "mobile-number",
      });
      phoneNumber.mount("#phone_number");

      text = elements.create("text", { ...options, name: "text" });
      text.mount("#text");

      textarea = elements.create("textarea", { ...options, name: "textarea" });
      textarea.mount("#textarea");

      checkbox1 = elements.create("checkbox", {
        ...options,
        name: "checkbox",
        value: "checkbox1",
      });
      checkbox1.mount("#checkbox1");
      checkbox2 = elements.create("checkbox", {
        ...options,
        name: "checkbox",
        value: "checkbox2",
      });
      checkbox2.mount("#checkbox2");

      radio1 = elements.create("radio", {
        ...options,
        name: "radio",
        value: "radio1",
      });
      radio1.mount("#radio1");
      radio2 = elements.create("radio", {
        ...options,
        name: "radio",
        value: "radio2",
      });
      radio2.mount("#radio2");

      password = elements.create("password", {
        ...options,
        name: "password",
        sensitive: true,
        // validation: ["required"],
      });
      password.mount("#password");

      number = elements.create("text", {
        ...options,
        name: "number",
        placeholder: "+91 (XXX) XXX-XX-XX--",
        mask: ["+91 (XXX) XXX-XX-XX--", { X: "[0-9]" }],
      });
      number.mount("#number");

      dropdown = elements.create("dropdown", {
        ...options,
        name: "dropdown",
        options: [{ text: "text1", value: "value1" }],
      });
      dropdown.mount("#dropdown");

      // const test = document.getElementById("form");

      // function pushElement(name) {
      //   firstName = elements.create("firstName", {
      //     ...options,
      //     name: name + "",
      //     value: name + "",
      //   });
      //   const elementDiv = document.createElement("div");
      //   test.append(elementDiv);
      //   firstName.mount(elementDiv);
      // }

      // for (let i = 0; i < 30; i++) {
      //   pushElement(i);
      // }

      document.getElementById("form").onsubmit = (event) => {
        event.preventDefault();
        elements.tokenize();
      };

      // window.onload = () => {
      //   console.log(
      //     "loaded: ",
      //     new Date(new Date().getTime() - startDate.getTime())
      //   );
      // };
    </script>
  </body>
</html>
